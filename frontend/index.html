<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Champlain Academic Affairs</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-card">
            <div class="login-logo">
                <img src="https://s3.amazonaws.com/imagerelay-assets/client/1263/assets/169951329/Shield-Multi_full.jpg?AWSAccessKeyId=AKIA5VVCWS7LSY3GYMKS&Expires=2066868752&Signature=arSfEsaWDe%2Ffs5tcMpm3Jqz0cJM%3D" 
                     alt="Champlain College Shield Logo" 
                     style="height: 100px; margin-bottom: 20px;"
                     onerror="this.style.display='none'">
            </div>
            <h1 class="login-title">Academic Affairs System</h1>
            <p class="login-subtitle">Course Management & Visualization</p>
            <div class="input-group">
                <label>Username</label>
                <input type="text" id="username" placeholder="Enter your username">
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="password" placeholder="Enter your password">
            </div>
            <button id="loginButton" class="login-btn">Sign In</button>
            <div id="loginError" class="error-message"></div>
            <div class="login-info">
                <strong>Demo Accounts:</strong><br>
                Username: student, faculty, or admin<br>
                Password: password
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <div class="header">
            <div class="logo-section">
                <img src="https://s3.amazonaws.com/imagerelay-assets/client/1263/assets/169951329/Shield-Multi_full.jpg?AWSAccessKeyId=AKIA5VVCWS7LSY3GYMKS&Expires=2066868752&Signature=arSfEsaWDe%2Ffs5tcMpm3Jqz0cJM%3D" 
                     alt="Champlain College Shield" 
                     style="height: 50px; margin-right: 20px;"
                     onerror="this.style.display='none'">
                <div class="logo-text">Academic Affairs</div>
            </div>
            <div class="user-info">
                <span id="currentUser">User</span>
                <span class="user-badge" id="currentRole">Role</span>
                <button class="logout-btn" id="logoutButton">Logout</button>
            </div>
        </div>

        <div class="main-container">
            <div class="sidebar">
                <h2>Dashboard</h2>
                
                <div class="section">
                    <h3>Course Selection</h3>
                    <div style="margin-bottom: 15px;">
                        <input type="text"
                               id="courseSearch"
                               placeholder="Search courses..."
                               style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 4px; font-size: 14px;">
                    </div>

                    <!-- Advanced Filters Button -->
                    <div style="margin-bottom: 10px; display: flex; gap: 8px;">
                        <button
                            id="toggleFiltersBtn"
                            onclick="FilterModule.toggleFilterPanel()"
                            style="flex: 1; padding: 8px 12px; background: var(--champlain-bright-blue); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px; font-weight: 600;">
                            üîç Advanced Filters
                        </button>
                        <button
                            id="clearFiltersBtn"
                            onclick="FilterModule.clearFilters(); FilterModule.applyFiltersAndUpdate();"
                            style="padding: 8px 12px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px;">
                            Clear
                        </button>
                    </div>

                    <!-- Filter Results Summary -->
                    <div style="margin-bottom: 10px; padding: 8px; background: #f8f9fa; border-radius: 4px; font-size: 12px;">
                        <div id="filterResultsCount" style="font-weight: 600; color: var(--champlain-navy);">All courses</div>
                        <div id="filterSummary" style="color: #666; margin-top: 4px;">No filters active</div>
                    </div>

                    <!-- Advanced Filter Panel (collapsible) -->
                    <div id="filterPanel" style="display: none; margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 6px; border: 1px solid #ddd;">
                        <h4 style="margin: 0 0 12px 0; color: var(--champlain-navy); font-size: 14px;">Advanced Filters</h4>

                        <!-- Department Filter -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-weight: 600; font-size: 12px; color: #333; display: block; margin-bottom: 6px;">Department</label>
                            <div id="filterDepartments" style="display: flex; flex-wrap: wrap; gap: 6px;"></div>
                        </div>

                        <!-- Credit Hours Filter -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-weight: 600; font-size: 12px; color: #333; display: block; margin-bottom: 6px;">Credit Hours</label>
                            <div id="filterCredits" style="display: flex; flex-wrap: wrap; gap: 6px;"></div>
                        </div>

                        <!-- Semester Offered Filter -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-weight: 600; font-size: 12px; color: #333; display: block; margin-bottom: 6px;">Semester Offered</label>
                            <div id="filterSemesters" style="display: flex; flex-wrap: wrap; gap: 6px;">
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="FALL" onchange="FilterModule.updateFilters()">
                                    <span>Fall</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="SPRING" onchange="FilterModule.updateFilters()">
                                    <span>Spring</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="BOTH" onchange="FilterModule.updateFilters()">
                                    <span>Both</span>
                                </label>
                            </div>
                        </div>

                        <!-- Competency Filter -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-weight: 600; font-size: 12px; color: #333; display: block; margin-bottom: 6px;">Competencies (must have ALL selected)</label>
                            <div id="filterCompetencies" style="display: flex; flex-direction: column; gap: 4px; max-height: 150px; overflow-y: auto;"></div>
                        </div>

                        <!-- Competency Weight Filter -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-weight: 600; font-size: 12px; color: #333; display: block; margin-bottom: 6px;">Competency Weight</label>
                            <div id="filterWeights" style="display: flex; flex-wrap: wrap; gap: 6px;">
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="1" onchange="FilterModule.updateFilters()">
                                    <span>Addressed (1)</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="2" onchange="FilterModule.updateFilters()">
                                    <span>Reinforced (2)</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="3" onchange="FilterModule.updateFilters()">
                                    <span>Emphasized (3)</span>
                                </label>
                            </div>
                        </div>

                        <!-- Course Type Filter -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-weight: 600; font-size: 12px; color: #333; display: block; margin-bottom: 6px;">Course Type</label>
                            <div id="filterCourseType" style="display: flex; flex-wrap: wrap; gap: 6px;">
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="Major" onchange="FilterModule.updateFilters()">
                                    <span>Major</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" value="GenEd" onchange="FilterModule.updateFilters()">
                                    <span>General Education</span>
                                </label>
                            </div>
                        </div>

                        <!-- Filter Preset Actions -->
                        <div style="margin-top: 15px; padding-top: 12px; border-top: 1px solid #ddd;">
                            <button
                                onclick="FilterModule.showSavePresetDialog()"
                                style="width: 100%; padding: 8px; background: var(--champlain-green); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600; margin-bottom: 6px;">
                                üíæ Save Filter Preset
                            </button>
                            <button
                                onclick="FilterModule.showLoadPresetDialog()"
                                style="width: 100%; padding: 8px; background: var(--champlain-blue); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600;">
                                üìÇ Load Preset
                            </button>
                        </div>
                    </div>

                    <div id="availableCourses" style="max-height: 200px; overflow-y: auto;"></div>
                    <div style="margin-top: 20px;">
                        <h4 style="color: var(--champlain-navy); font-size: 14px; margin-bottom: 10px;">Selected Courses</h4>
                        <div id="selectedCourses"></div>

                        <!-- Similar Courses Feature -->
                        <div id="similarCoursesSection" style="display: none; margin-top: 15px; padding: 12px; background: #e8f5e9; border-radius: 6px; border: 1px solid var(--champlain-green);">
                            <h4 style="margin: 0 0 10px 0; color: var(--champlain-green); font-size: 13px;">üéØ Similar Courses</h4>
                            <div id="similarCoursesList"></div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>Competency Tracker</h3>
                    <div id="competencyTracker"></div>
                </div>

                <div class="section">
                    <h3>Semester Planning</h3>
                    <button class="btn" id="semesterPlannerBtn" style="width: 100%; margin-bottom: 10px;">
                        üìÖ Plan My Schedule
                    </button>
                    <div id="scheduleQuickView" style="font-size: 12px; color: #666;"></div>
                </div>

                <div id="adminSection" class="section hidden">
                    <h3>Administration</h3>
                    <button class="btn" id="reviewProposalsBtn">
                        <span>Review Course Proposals</span>
                        <span id="pendingBadge" class="badge hidden">0</span>
                    </button>
                    <button class="btn" id="manageCoursesBtn">
                        <span>Manage Courses & Programs</span>
                    </button>
                </div>

                <div id="facultySection" class="section hidden">
                    <h3>Faculty Tools</h3>
                    <button class="btn" id="submitProposalBtn">
                        <span>Submit Course Proposal</span>
                    </button>
                    <button class="btn" id="myProposalsBtn">
                        <span>My Proposals</span>
                    </button>
                </div>


            </div>

            <div class="viz-container">
                <div class="viz-header">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h1 id="vizTitle">Competency Visualization</h1>
                            <p id="vizDescription">Interactive network showing relationships between courses and college competencies</p>
                        </div>
                        <div style="display: flex; gap: 20px; align-items: center;">
                            <div class="view-toggle">
                                <button class="toggle-btn active" id="networkViewBtn">Network View</button>
                                <button class="toggle-btn" id="tableViewBtn">Table View</button>
                                <button class="toggle-btn" id="prerequisiteViewBtn">Prerequisite Chain</button>
                                <button class="toggle-btn" id="pathwayViewBtn">Course Pathway</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="graph-wrapper">
                    <!-- Network View -->
                    <div id="networkView" style="position: relative; width: 100%; height: 100%; overflow: auto;">
                        <svg id="networkGraph" style="width: 100%; min-height: 600px;"></svg>
                    </div>

                    <!-- Table View -->
                    <div id="tableView" class="hidden">
                        <div id="competencyTable"></div>
                    </div>

                    <!-- Prerequisite Chain View -->
                    <div id="prerequisiteView" class="hidden" style="position: relative; width: 100%; height: 100%; overflow: auto;">
                        <div id="prerequisiteGraphContainer" style="width: 100%; min-height: 600px;">
                            <svg id="prerequisiteGraph" style="width: 100%; min-height: 600px;"></svg>
                        </div>
                    </div>

                    <!-- Course Pathway View -->
                    <div id="pathwayView" class="hidden" style="position: relative; width: 100%; height: 100%; overflow: auto;">
                        <div style="padding: 20px;">
                            <h3 style="color: var(--champlain-navy); margin-bottom: 15px;">Student Course Pathway</h3>
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">Search Completed Courses:</label>
                                <div style="position: relative; margin-bottom: 15px;">
                                    <input type="text"
                                           id="completedCoursesSearch"
                                           placeholder="Search and select completed courses..."
                                           style="width: 100%; padding: 10px 40px 10px 12px; border: 2px solid #ddd; border-radius: 6px; font-size: 14px;"
                                           autocomplete="off">
                                    <div id="completedCoursesDropdown" class="hidden" style="position: absolute; top: 100%; left: 0; right: 0; background: white; border: 2px solid #00A9E0; border-radius: 6px; max-height: 300px; overflow-y: auto; z-index: 1000; margin-top: 4px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"></div>
                                </div>
                                <div id="completedCoursesSelected" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px;"></div>
                            </div>
                            <div id="pathwayGraphContainer" style="display: flex; gap: 20px; width: 100%; min-height: 500px;">
                                <!-- Three columns for Completed, Available, Locked -->
                                <div style="flex: 1; min-width: 250px;">
                                    <h4 style="color: #4CAF50; margin-bottom: 10px; font-size: 18px; font-weight: bold;">
                                        Completed <span id="completedCount" style="font-size: 14px;">(0)</span>
                                    </h4>
                                    <div id="completedCoursesBox" class="pathway-box" style="background: #f5f7fa; border: 2px solid #4CAF50; border-radius: 10px; padding: 15px; height: 500px; overflow-y: auto;"></div>
                                </div>
                                <div style="flex: 1; min-width: 250px;">
                                    <h4 style="color: #00A9E0; margin-bottom: 10px; font-size: 18px; font-weight: bold;">
                                        Available <span id="availableCount" style="font-size: 14px;">(0)</span>
                                    </h4>
                                    <div id="availableCoursesBox" class="pathway-box" style="background: #f5f7fa; border: 2px solid #00A9E0; border-radius: 10px; padding: 15px; height: 500px; overflow-y: auto;"></div>
                                </div>
                                <div style="flex: 1; min-width: 250px;">
                                    <h4 style="color: #999; margin-bottom: 10px; font-size: 18px; font-weight: bold;">
                                        Locked <span id="lockedCount" style="font-size: 14px;">(0)</span>
                                    </h4>
                                    <div id="lockedCoursesBox" class="pathway-box" style="background: #f5f7fa; border: 2px solid #999; border-radius: 10px; padding: 15px; height: 500px; overflow-y: auto;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    
    <!-- Proposal Submission Modal -->
    <div id="proposalModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Submit Course Proposal</h2>
                <button class="close-btn" id="closeProposalBtn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="proposalForm">
                    <div class="form-group">
                        <label>Course Code *</label>
                        <input type="text" id="courseCode" placeholder="e.g., CSI-450" required>
                    </div>
                    <div class="form-group">
                        <label>Course Title *</label>
                        <input type="text" id="courseTitle" placeholder="e.g., Advanced Database Systems" required>
                    </div>
                    <div class="form-group">
                        <label>Course Description *</label>
                        <textarea id="courseDescription" placeholder="Provide a detailed course description..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Prerequisites</label>
                        <input type="text" id="prerequisites" placeholder="e.g., CSI-340, CSI-360">
                    </div>
                    <div class="form-group">
                        <label>Credit Hours *</label>
                        <select id="creditHours" required>
                            <option value="">Select credit hours</option>
                            <option value="1">1 Credit</option>
                            <option value="2">2 Credits</option>
                            <option value="3">3 Credits</option>
                            <option value="4">4 Credits</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Select College Competencies & Weights *</label>
                        <div style="margin-bottom: 12px; padding: 10px; background: #f8f9fa; border-radius: 6px; font-size: 13px; color: #666;">
                            <strong>Weight Scale:</strong> 1 = Addressed | 2 = Reinforced | 3 = Emphasized
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div class="competency-weight-option">
                                <label for="comp_comm" style="flex: 1; margin: 0;">Communication</label>
                                <select id="comp_comm" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                            <div class="competency-weight-option">
                                <label for="comp_thinking" style="flex: 1; margin: 0;">Critical Thinking</label>
                                <select id="comp_thinking" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                            <div class="competency-weight-option">
                                <label for="comp_learning" style="flex: 1; margin: 0;">Self-Directed Learning</label>
                                <select id="comp_learning" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                            <div class="competency-weight-option">
                                <label for="comp_collab" style="flex: 1; margin: 0;">Collaboration</label>
                                <select id="comp_collab" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                            <div class="competency-weight-option">
                                <label for="comp_global" style="flex: 1; margin: 0;">Global Understanding</label>
                                <select id="comp_global" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                            <div class="competency-weight-option">
                                <label for="comp_ethics" style="flex: 1; margin: 0;">Ethics & Social Responsibility</label>
                                <select id="comp_ethics" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                            <div class="competency-weight-option">
                                <label for="comp_info" style="flex: 1; margin: 0;">Information Literacy</label>
                                <select id="comp_info" class="competency-weight-select">
                                    <option value="0">Not Selected</option>
                                    <option value="1">Addressed (1)</option>
                                    <option value="2">Reinforced (2)</option>
                                    <option value="3">Emphasized (3)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Justification *</label>
                        <textarea id="justification" placeholder="Explain why this course should be added and how it addresses the selected competencies..." required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Submit Proposal</button>
                    <div id="proposalSuccess" class="success-message hidden"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Review Proposals Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Review Course Proposals</h2>
                <button class="close-btn" id="closeReviewBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="proposalList"></div>
            </div>
        </div>
    </div>

    <!-- My Proposals Modal -->
    <div id="myProposalsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>My Proposals</h2>
                <button class="close-btn" id="closeMyProposalsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="myProposalsList"></div>
            </div>
        </div>
    </div>

    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Proposal Details</h2>
                <button class="close-btn" id="closeDetailsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="proposalDetails"></div>
                <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e0e0e0;">
                    <button 
                        id="exportProposalBtn"
                        style="
                            padding: 10px 20px;
                            background: #17a2b8;
                            color: white;
                            border: none;
                            border-radius: 6px;
                            cursor: pointer;
                            font-size: 14px;
                            font-weight: 600;
                            display: flex;
                            align-items: center;
                            gap: 8px;
                        "
                    >
                        <span style="font-size: 18px;">üìÑ</span> Export Proposal Document
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Manage Courses Modal -->
    <div id="manageModal" class="modal">
        <div class="modal-content" style="max-width: 1000px;">
            <div class="modal-header">
                <h2>System Management Dashboard</h2>
                <button class="close-btn" id="closeManageBtn">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 75vh; overflow-y: auto;">
                <!-- System Statistics -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: var(--champlain-navy); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 20px;">üìä</span> System Overview
                    </h3>
                    <div id="systemStats"></div>
                </div>
                
                <!-- Courses Section -->
                <div style="margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="color: var(--champlain-navy); margin: 0; display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 20px;">üìö</span> Course Management
                        </h3>
                        <button class="btn" id="addCourseBtn" style="margin: 0; background: var(--champlain-bright-blue); color: white; border: none;">
                            + Add New Course
                        </button>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <input 
                            type="text" 
                            id="manageCourseSearch" 
                            placeholder="Search courses by code or name..." 
                            style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px;">
                    </div>
                    
                    <div id="coursesList" style="max-height: 400px; overflow-y: auto;"></div>
                </div>
                
                <!-- Competencies Section -->
                <div style="margin-bottom: 30px; padding: 20px; background: #e8f5e9; border-radius: 8px;">
                    <h3 style="color: var(--champlain-navy); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 20px;">üéØ</span> Competency Management
                    </h3>
                    <div id="competenciesList"></div>
                </div>
                
                <!-- Learning Objectives Section -->
                <div style="padding: 20px; background: #e3f2fd; border-radius: 8px;">
                    <h3 style="color: var(--champlain-navy); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 20px;">‚úì</span> Learning Objectives
                    </h3>
                    <div id="objectivesList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Course Modal -->
    <div id="editCourseModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 id="editCourseTitle">Add Course</h2>
                <button class="close-btn" id="closeEditCourseBtn">&times;</button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <form id="editCourseForm">
                    <div class="form-group">
                        <label>Course Code *</label>
                        <input type="text" id="editCourseCode" placeholder="e.g., CSI-450" required>
                    </div>
                    <div class="form-group">
                        <label>Course Name *</label>
                        <input type="text" id="editCourseName" placeholder="e.g., Advanced Database Systems" required>
                    </div>
                    <div class="form-group">
                        <label>Course Description *</label>
                        <textarea id="editCourseDescription" placeholder="Provide a detailed course description..." rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Credit Hours *</label>
                        <select id="editCreditHours" required>
                            <option value="">Select credit hours</option>
                            <option value="1">1 Credit</option>
                            <option value="2">2 Credits</option>
                            <option value="3">3 Credits</option>
                            <option value="4">4 Credits</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Prerequisites</label>
                        <input type="text" id="editPrerequisites" placeholder="e.g., CSI-340, CSI-360">
                    </div>
                    <div class="form-group">
                        <label>Select Competencies Addressed *</label>
                        <div class="competency-grid" id="editCourseCompetencies"></div>
                    </div>
                    <div class="form-group">
                        <label>Course Justification</label>
                        <textarea id="editJustification" placeholder="Explain why this course is important and how it addresses the selected competencies..." rows="4"></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Save Course</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Semester Planner Modal -->
    <div id="semesterPlannerModal" class="modal">
        <div class="modal-content" style="max-width: 1400px; width: 95%;">
            <div class="modal-header">
                <h2>üìÖ Semester Schedule Planner</h2>
                <button class="close-btn" id="closeSemesterPlannerBtn">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Semester Tabs -->
                <div id="semesterTabs" style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid var(--champlain-navy); padding-bottom: 10px; overflow-x: auto;"></div>

                <!-- Current Semester View -->
                <div id="currentSemesterView">
                    <!-- Schedule Summary -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div class="stat-card" style="background: linear-gradient(135deg, var(--champlain-blue), var(--champlain-navy)); color: white; padding: 15px; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: bold;" id="totalCoursesCount">0</div>
                            <div style="font-size: 13px;">Total Courses</div>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, var(--champlain-green), #45a049); color: white; padding: 15px; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: bold;" id="totalCreditsCount">0</div>
                            <div style="font-size: 13px;">Total Credits</div>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, var(--champlain-bright-blue), var(--champlain-teal)); color: white; padding: 15px; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: bold;" id="conflictsCount">0</div>
                            <div style="font-size: 13px;">Conflicts</div>
                        </div>
                    </div>

                    <!-- Two Column Layout -->
                    <div style="display: grid; grid-template-columns: 350px 1fr; gap: 20px;">
                        <!-- Left: Available Courses -->
                        <div>
                            <h3 style="color: var(--champlain-navy); margin-bottom: 15px;">Available Courses</h3>
                            <input type="text" id="schedulerCourseSearch" placeholder="Search courses..." style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 4px; margin-bottom: 15px;">
                            <div id="availableCoursesForSchedule" style="max-height: 600px; overflow-y: auto; background: #f8f9fa; border-radius: 8px; padding: 10px;"></div>
                        </div>

                        <!-- Right: Weekly Calendar View -->
                        <div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="color: var(--champlain-navy); margin: 0;">Weekly Schedule</h3>
                                <div style="display: flex; gap: 10px;">
                                    <button id="exportScheduleBtn" style="padding: 8px 16px; background: var(--champlain-green); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px;">
                                        üìÑ Export
                                    </button>
                                    <button id="clearScheduleBtn" style="padding: 8px 16px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px;">
                                        üóëÔ∏è Clear
                                    </button>
                                </div>
                            </div>

                            <!-- Weekly Grid -->
                            <div id="weeklyScheduleGrid" style="background: white; border: 2px solid var(--champlain-navy); border-radius: 8px; overflow: hidden;"></div>

                            <!-- Scheduled Courses List -->
                            <div style="margin-top: 20px;">
                                <h4 style="color: var(--champlain-navy); margin-bottom: 10px;">Scheduled Courses</h4>
                                <div id="scheduledCoursesList"></div>
                            </div>

                            <!-- Conflicts Display -->
                            <div id="conflictsDisplay" style="margin-top: 20px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/state.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/components/filters.js"></script>
    <script src="js/components/courses.js"></script>
    <script src="js/components/competencies.js"></script>
    <script src="js/components/proposals.js"></script>
    <script src="js/components/prerequisites.js"></script>
    <script src="js/components/scheduling.js"></script>
    <script src="js/ui/visualization.js"></script>
    <script src="js/ui/prerequisite-visualization.js"></script>
    <script src="js/ui/semester-planner.js"></script>
    <script src="js/ui/modals.js"></script>
    <script src="js/mobile.js"></script>
    <script src="js/app.js"></script>
</body>
</html>